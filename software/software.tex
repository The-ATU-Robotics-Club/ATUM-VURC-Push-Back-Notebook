\addtocontents{toc}{\setcounter{tocdepth}{1}}
\input{software/preface.tex}
\input{software/background.tex}
\input{software/drive.tex}
\input{software/code/full-code.tex}
\addtocontents{toc}{\setcounter{tocdepth}{\defaulttocdepth}}